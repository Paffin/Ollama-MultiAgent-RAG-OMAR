# OMAR - MultiAgent System with RAG and Analytics

Многоагентная система с возможностями самообучения, аналитики и обработки данных, построенная на базе Ollama.

## Возможности

- 🤖 Многоагентная архитектура с самообучением
  - PlannerAgent: планирование и анализ запросов
  - ExecutorAgent: выполнение инструкций
  - CriticAgent: анализ качества ответов
  - PraiseAgent: оценка сильных сторон
  - ArbiterAgent: принятие решений о доработке

- 📊 Аналитика и визуализация
  - Отслеживание метрик агентов
  - Анализ эффективности
  - Предсказательная аналитика
  - Генерация отчетов
  - Визуализация результатов

- 🎨 Адаптивный интерфейс
  - Streamlit-based UI
  - Темная/светлая тема
  - Интерактивные графики
  - Панель уведомлений
  - Настраиваемые компоненты

- 📝 Обработка данных
  - Валидация входных данных
  - Предварительная обработка
  - Трансформация данных
  - Потоковая обработка
  - Поддержка различных форматов

- 🔍 RAG (Retrieval-Augmented Generation)
  - Векторное хранилище
  - Семантический поиск
  - Интеграция с Ollama
  - Кэширование результатов
  - Оптимизация запросов

- 🔔 Система уведомлений
  - Приоритизация сообщений
  - Категоризация уведомлений
  - История уведомлений
  - Фильтрация и поиск
  - Экспорт уведомлений

- ⚙️ Гибкая настройка
  - Конфигурация агентов
  - Настройка моделей
  - Параметры обработки
  - Логирование
  - Кэширование

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/yourusername/omar.git
cd omar
```

2. Создайте виртуальное окружение:
```bash
python -m venv venv
source venv/bin/activate  # для Linux/Mac
venv\Scripts\activate     # для Windows
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Установите Ollama:
```bash
# Следуйте инструкциям на https://ollama.ai
```

## Структура проекта

```
omar/
├── src/
│   ├── agents/           # Агенты системы
│   │   ├── base.py      # Базовый класс агента
│   │   ├── planner.py   # Планировщик
│   │   ├── executor.py  # Исполнитель
│   │   ├── critic.py    # Критик
│   │   ├── praise.py    # Оценщик
│   │   ├── arbiter.py   # Арбитр
│   │   └── learning.py  # Система самообучения
│   │
│   ├── analytics/       # Аналитика
│   │   ├── agent_analytics.py
│   │   ├── predictive_analytics.py
│   │   └── reporting.py
│   │
│   ├── data/           # Обработка данных
│   │   ├── processor.py
│   │   ├── preprocessing.py
│   │   ├── transformations.py
│   │   └── validators.py
│   │
│   ├── rag/            # RAG система
│   │   ├── db.py
│   │   ├── embeddings.py
│   │   ├── retriever.py
│   │   └── generator.py
│   │
│   ├── notifications/  # Система уведомлений
│   │   └── system.py
│   │
│   ├── ollama/         # Клиент Ollama
│   │   ├── client.py
│   │   └── models.py
│   │
│   ├── prompts/        # Системные промпты
│   │   ├── planner.py
│   │   ├── executor.py
│   │   ├── critic.py
│   │   ├── praise.py
│   │   └── arbiter.py
│   │
│   ├── streamlit/      # Streamlit интерфейс
│   │   ├── app.py
│   │   └── components.py
│   │
│   ├── utils/          # Утилиты
│   │   ├── config.py
│   │   ├── logger.py
│   │   ├── cache.py
│   │   ├── exceptions.py
│   │   └── validators.py
│   │
│   ├── __init__.py
│   └── main.py
│
├── config/             # Конфигурационные файлы
├── docs/              # Документация
├── tests/             # Тесты
├── uploads/           # Загруженные файлы
├── requirements.txt   # Зависимости
├── setup.py          # Настройка пакета
└── README.md         # Документация
```

## Использование

1. Запустите Ollama сервер:
```bash
ollama serve
```

2. Запустите приложение:
```bash
streamlit run src/main.py
```

3. Откройте браузер и перейдите по адресу: http://localhost:8501

## Настройка

### Параметры агентов
- Temperature: температура генерации (0.0-2.0)
- Top P: параметр выборки (0.0-1.0)
- Max tokens: максимальное количество токенов
- Context window: размер окна контекста

### Параметры обработки данных
- Размер чанка: количество записей для обработки
- Минимальная длина текста
- Максимальная длина текста
- Форматы данных (CSV, JSON, YAML, XML)

### Валидация данных
- Проверка длины текста
- Валидация формата
- Обработка специальных символов
- Проверка типов данных
- Валидация диапазонов

## Аналитика

### Метрики агентов
- Успешность выполнения задач
- Время ответа
- Качество ответов
- Использование ресурсов
- Эффективность обучения

### Визуализация
- Графики успешности
- Графики времени ответа
- Графики качества
- Предсказания эффективности
- Тепловые карты использования

## Разработка

### Добавление новых агентов
1. Создайте новый класс агента в `src/agents/`
2. Реализуйте необходимые методы
3. Добавьте промпт в `src/prompts/`
4. Интегрируйте агента в систему

### Расширение функциональности
1. Добавьте новые валидаторы в `src/data/validators.py`
2. Реализуйте новые метрики в `src/analytics/`
3. Добавьте визуализацию в `src/streamlit/components.py`
4. Обновите конфигурацию в `src/utils/config.py`

## Лицензия

MIT License